<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="stylesheet" href="/src/style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Fluffy Grass Three.js</title>
  <meta name="description"
    content="Fluffiest Grass on the internet. Built using threejs. Grass Material by thebenezer." />
  <meta name="keywords" content="Three.js, grass material, tutorial, thebenezer, Zero x Infinity" />
  <meta property="og:title" content="Fluffy Grass Three.js" />
  <meta property="og:description"
    content="Fluffiest Grass on the internet. Built using threejs. Grass Material by thebenezer." />
  <meta property="og:image" content="/social2.webp" />
  <meta property="og:url" content="https://fluffygrass.vercel.app" />
  <!-- twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@th_ebenezer" />
  <meta name="twitter:creator" content="@th_ebenezer" />
  <meta name="twitter:title" content="Fluffy Grass Three.js" />
  <meta name="twitter:description"
    content="Fluffiest Grass on the internet. Built using threejs. Grass Material by thebenezer." />
  <meta name="twitter:image" content="/social2.webp" />

</head>

<body>

  <canvas id="canvas"></canvas>
  <!-- <button class="randomizeButton">Randomize</button> -->
  
  <!-- Top text elements -->
  <div class="top-left-text">inspiration grasslands</div>
  <div class="top-right-text"><a href="#" id="designer-notes-link">note from the designer</a></div>
  
  <!-- Popup Modal -->
  <div id="designer-popup" class="popup-overlay">
    <div class="popup-content">
      <button class="popup-close" id="popup-close">&times;</button>
      <div class="popup-text">
        <p>Delighted you're here :)</p>
        <br>
        <p>My name is Raghav! ("Raa-gv")</p>
        <p>Im a product designer based in Seattle and on the rainiest days here, I love to revisit things that spark my design forward.</p>
        <br>
        <p>I hope in this grassland you find some design inspiration too! If you wish to share your favourite pieces that have inspired your work on hard days, <a href="https://x.com/raghavpink" target="_blank">DM me on X</a>.</p>
        <br>
        <p>See more of my work <a href="https://www.raghavsharma.work/" target="_blank">here</a>.</p>
        <p>Big thanks to <a href="https://x.com/th_ebenezer" target="_blank">@th_ebenezer</a>, whose fluffy grass I reworked for this piece. The rest, vibe coded in Cursor.</p>
        
        <div class="signature-area">
          <div class="signature">Raghav</div>
          <div class="timestamp" id="popup-timestamp"></div>
        </div>
      </div>
    </div>
  </div>
  <div class="camera-panel">
    <h3>Camera Position</h3>
    <div class="coordinate">
      <span>X:</span>
      <span id="camera-x">0.00</span>
    </div>
    <div class="coordinate">
      <span>Y:</span>
      <span id="camera-y">0.00</span>
    </div>
    <div class="coordinate">
      <span>Z:</span>
      <span id="camera-z">0.00</span>
    </div>
  </div>
  <div class="mouse-panel">
    <h3>Mouse World Position</h3>
    <div class="coordinate">
      <span>X:</span>
      <span id="mouse-x">0.00</span>
    </div>
    <div class="coordinate">
      <span>Y:</span>
      <span id="mouse-y">0.00</span>
    </div>
    <div class="coordinate">
      <span>Z:</span>
      <span id="mouse-z">0.00</span>
    </div>
    <div class="mouse-info">Click to copy coordinates</div>
  </div>
  <script type="module" src="/src/main.ts"></script>
  
  <script>
    // Popup functionality
    const designerLink = document.getElementById('designer-notes-link');
    const popup = document.getElementById('designer-popup');
    const popupClose = document.getElementById('popup-close');
    let clockInterval = null;
    
    // Function to update the clock
    function updateClock() {
      const now = new Date();
      const timestamp = now.toLocaleString('en-US', {
        year: 'numeric',
        month: 'short',
        day: 'numeric',
        hour: '2-digit',
        minute: '2-digit',
        second: '2-digit',
        hour12: true
      });
      document.getElementById('popup-timestamp').textContent = timestamp;
    }
    
    // Open popup
    designerLink.addEventListener('click', function(e) {
      e.preventDefault();
      
      // Start the live clock
      updateClock(); // Update immediately
      clockInterval = setInterval(updateClock, 1000); // Update every second
      
      popup.classList.add('show');
    });
    
    // Function to close popup and stop clock
    function closePopup() {
      popup.classList.remove('show');
      if (clockInterval) {
        clearInterval(clockInterval);
        clockInterval = null;
      }
    }
    
    // Close popup with close button
    popupClose.addEventListener('click', closePopup);
    
    // Close popup when clicking outside
    popup.addEventListener('click', function(e) {
      if (e.target === popup) {
        closePopup();
      }
    });
    
    // Close popup with Escape key
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape' && popup.classList.contains('show')) {
        closePopup();
      }
    });
  </script>
</body>

</html>